(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{3343:(e,a,t)=>{Promise.resolve().then(t.bind(t,4401))},4401:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});var l=t(5155),s=t(2115);function d(){let[e,a]=(0,s.useState)(!1),t=async e=>{e.preventDefault();let a=e.dataTransfer.files[0];try{let e=await fetch("/api/upload",{method:"POST",body:JSON.stringify({filename:a.name,contentType:a.type})}),{presignedUrl:t}=await e.json();await fetch(t,{method:"PUT",body:a,headers:{"Content-Type":a.type}}),alert("Upload complete!")}catch(e){console.error(e),alert("Upload failed")}};return(0,l.jsx)("div",{onDragOver:e=>{e.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onDrop:t,style:{border:"2px dashed #ccc",padding:"20px",textAlign:"center",background:e?"#e1e1e1":"white"},children:"Drop file here to upload to S3"})}function r(){let[e,a]=(0,s.useState)(!1),[t,r]=(0,s.useState)(0);return(0,l.jsxs)("div",{className:"min-h-screen p-8",children:[(0,l.jsxs)("header",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Upload Video"}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"Upload your video files to StudioMonk"})]}),(0,l.jsx)("main",{className:"max-w-2xl",children:(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[(0,l.jsx)(d,{onUploadStart:()=>a(!0),onUploadProgress:r,onUploadComplete:e=>{console.log("Upload completed:",e),a(!1),r(0)},acceptedFileTypes:["video/mp4","video/quicktime"],maxFileSize:0x6400000}),e&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(t,"%")}})}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Uploading: ",t,"%"]})]})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[441,517,358],()=>a(3343)),_N_E=e.O()}]);