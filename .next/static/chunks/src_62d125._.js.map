{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/vikeshbk/go/src/studioMonk.io/studio-monk/src/utils/get-error-message.ts"],"sourcesContent":["export function getErrorMessage(error: unknown): string {\n    if (error instanceof Error) {\n      return error.message;      \n    }\n    if (error && typeof error === \"object\" && \"message\" in error) {\n      return String(error.message);\n    }\n    if (typeof error === \"string\") {\n      return error;\n    }\n    return \"An error occured\";\n}"],"names":[],"mappings":";;;AAAO,SAAS,gBAAgB,KAAc;IAC1C,IAAI,iBAAiB,OAAO;QAC1B,OAAO,MAAM,OAAO;IACtB;IACA,IAAI,SAAS,OAAO,UAAU,YAAY,aAAa,OAAO;QAC5D,OAAO,OAAO,MAAM,OAAO;IAC7B;IACA,IAAI,OAAO,UAAU,UAAU;QAC7B,OAAO;IACT;IACA,OAAO;AACX"}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/vikeshbk/go/src/studioMonk.io/studio-monk/src/lib/cognitoActions.ts"],"sourcesContent":["import { redirect } from \"next/navigation\";\nimport { \n  signUp,\n  confirmSignUp,\n  signIn,\n  signOut,  \n  resendSignUpCode \n} from \"aws-amplify/auth\";\nimport { getErrorMessage } from \"@/utils/get-error-message\";\n\nexport async function handleSignUp(\n  prevState: string | undefined,\n  formData: FormData\n) {\n  try {\n    const { isSignUpComplete, userId, nextStep } = await signUp({\n        username: String(formData.get(\"email\")),\n        password: String(formData.get(\"password\")),\n        options: {\n            userAttributes: {\n                email: String(formData.get(\"email\")),\n                name: String(formData.get(\"name\")),\n            },\n            //optional\n            autoSignIn: true,          \n        },\n    });\n  } catch (error) {\n    return getErrorMessage(error);\n  }\n  redirect(\"/auth/confirm-signup\");\n\n}\n\nexport async function handleSendEmailVerificationCode(\n  prevState: {message: string; errorMessage: string },\n  formData: FormData\n) {\n  let currentState;\n  try {\n    await resendSignUpCode({\n      username: String(formData.get(\"email\")),        \n    });\n    currentState = {\n      ...prevState,\n      message: \"Code sent successfully\",\n    };\n  } catch (error) {\n    currentState = {\n      ...prevState,\n      errorMessage: getErrorMessage(error),   \n    };\n  }\n\n  return currentState;\n}\n\nexport async function handleConfirmSignUp(\n  prevState: string | undefined,\n  formData: FormData\n) {\n  try {\n    const { isSignUpComplete, nextStep } = await confirmSignUp({\n      username: String(formData.get(\"email\")),\n      confirmationCode: String(formData.get(\"code\")),\n    });\n  } catch (error) {\n    return getErrorMessage(error);\n  }\n  redirect(\"/auth/login\");\n}\n\nexport async function handleSignIn(\n  prevState: string | undefined,\n  formData: FormData\n) {\n  let redirectLink = \"/\";\n  try {\n    const { isSignedIn, nextStep } = await signIn({\n      username: String(formData.get(\"email\")),\n      password: String(formData.get(\"password\")),         \n    });\n    if (nextStep.signInStep === \"CONFIRM_SIGN_UP\") {\n      await resendSignUpCode({\n        username: String(formData.get(\"email\")),\n      });\n      redirectLink = \"/auth/confirm-signup\";\n    } \n  } catch (error) {\n    return getErrorMessage(error);\n  }\n\n  redirect(redirectLink);\n}\n\nexport async function handleSignOut() {\n  try {\n    await signOut();\n  } catch (error) {\n    console.log(getErrorMessage(error));\n  }\n  redirect(\"/auth/login\");\n}\n   \n\n\n\n\n// export async function handleSignUp(\n//   prevState: string | undefined,\n//   formData: FormData\n// ) {\n//   console.log(\"signing up\");\n//   return \"Error creating an account\";\n// }\n\n// export async function handleSendEmailVerificationCode(\n//   prevState: { message: string; errorMessage: string },\n//   formData: FormData\n// ) {\n//   console.log(\"resending verification code\");\n//   const currentState = {\n//     ...prevState,\n//     message: \"Code sent successfully\",\n//   };\n\n//   return currentState;\n// }\n  \n// export async function confirmSignUp(\n//   prevState: string | undefined,\n//   formData: FormData\n// ) {\n//   console.log(\"confirming sign up\");\n//   return \"Invalid code\";\n// }\n  \n// export async function handleSignIn(\n//   prevState: string | undefined,\n//   formData: FormData\n// ) {\n//   console.log(\"signing in\");\n//   return \"Error logging in\";\n// }\n  \n// export async function handleSignOut() {\n//   console.log(\"signing out\");\n// }\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///Users/vikeshbk/go/src/studioMonk.io/studio-monk/src/ui/auth/logout-form.tsx"],"sourcesContent":["\"use client\";\n\nimport { handleSignOut } from \"@/lib/cognitoActions\";\n\nexport default function LogoutForm() {\n  return (\n    <form action={handleSignOut}>\n      <button className=\"flex h-[48px] w-full grow items-center justify-center gap-2 rounded-md bg-gray-50 p-3 text-sm font-medium hover:bg-sky-100 hover:text-blue-600 md:flex-none md:justify-start md:p-2 md:px-3\">\n        <div className=\"hidden md:block\">Sign Out</div>\n      </button>\n    </form>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBACE,6LAAC;QAAK,QAAQ,+HAAA,CAAA,gBAAa;kBACzB,cAAA,6LAAC;YAAO,WAAU;sBAChB,cAAA,6LAAC;gBAAI,WAAU;0BAAkB;;;;;;;;;;;;;;;;AAIzC;KARwB"}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}